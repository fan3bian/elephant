package com.fan3bian.elephant.simple;

import com.fan3bian.elephant.domain.pojo.Buckets;
import com.fan3bian.elephant.domain.pojo.JsonRootBean;
import com.fan3bian.elephant.domain.pojo._source;
import com.fan3bian.elephant.utils.JsonUtil;
import org.apache.commons.io.FileUtils;
import org.assertj.core.util.Lists;

import java.io.File;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class TestJson {
    public static void main(String[] args) throws Exception{
//        String filePath = "d:\\orderA.json";
//
//        String msgBody = FileUtils.readFileToString(new File(filePath),"UTF-8");
//        JsonRootBean jsonRootBean = JsonUtil.fromJson(msgBody,JsonRootBean.class);
//        List<Buckets> buckets = jsonRootBean.getAggregations().getDept_no().getBuckets();
//        for (Buckets bucket : buckets) {
//            List<Buckets> innerbuckets = bucket.getSp_name().getBuckets();
//            for (Buckets innerbucket : innerbuckets) {
//                int num = (int)innerbucket.getTop().getHits().getTotal();
//                _source source = innerbucket.getTop().getHits().getHits().get(0).get_source();
//                System.out.println(source.getDept_name()+"  "+source.getDept_no() +"    " +source.getIsv_source()+"     "+source.getSp_name()+"  "+num);
//            }
//        }
//        System.out.println();
       String str[] ={"CBR4418046555127",
               "CBR4418046555131",
               "CBR4418046555135",
               "CBR4418046555139",
               "CBR4418046555143",
               "CBR4418046555147",
               "CBR4418046555151",
               "CBR4418046555155",
               "CBR4418046555159",
               "CBR4418046555163",
               "CBR4418046555167",
               "CBR4418046555171",
               "CBR4418046555175",
               "CBR4418046555179",
               "CBR4418046555183",
               "CBR4418046555187",
               "CBR4418046555191",
               "CBR4418046555195",
               "CBR4418046555199",
               "CBR4418046555203",
               "CBR4418046555207",
               "CBR4418046555211",
               "CBR4418046555215",
               "CBR4418046555219",
               "CBR4418046555223",
               "CBR4418046555227",
               "CBR4418046555231",
               "CBR4418046555235",
               "CBR4418046555239",
               "CBR4418046555243",
               "CBR4418046555247",
               "CBR4418046555251",
               "CBR4418046555255",
               "CBR4418046555259",
               "CBR4418046555263",
               "CBR4418046555267",
               "CBR4418046555271",
               "CBR4418046555275",
               "CBR4418046555279",
               "CBR4418046555283",
               "CBR4418046555287",
               "CBR4418046555291",
               "CBR4418046555295",
               "CBR4418046555299",
               "CBR4418046555303",
               "CBR4418046555307",
               "CBR4418046555311",
               "CBR4418046555315",
               "CBR4418046555319",
               "CBR4418046557913",
               "CBR4418046557917",
               "CBR4418046557921",
               "CBR4418046557925",
               "CBR4418046557929",
               "CBR4418046557933",
               "CBR4418046557937",
               "CBR4418046557941",
               "CBR4418046557945",
               "CBR4418046557949",
               "CBR4418046557953",
               "CBR4418046557957",
               "CBR4418046557961",
               "CBR4418046557965",
               "CBR4418046557969",
               "CBR4418046557973",
               "CBR4418046557977",
               "CBR4418046557981",
               "CBR4418046557985",
               "CBR4418046557989",
               "CBR4418046557993",
               "CBR4418046557997",
               "CBR4418046558001",
               "CBR4418046558005",
               "CBR4418046558009",
               "CBR4418046558013",
               "CBR4418046558017",
               "CBR4418046558021",
               "CBR4418046558025",
               "CBR4418046558029",
               "CBR4418046558033",
               "CBR4418046558037",
               "CBR4418046558041",
               "CBR4418046558045",
               "CBR4418046558049",
               "CBR4418046558053",
               "CBR4418046558057",
               "CBR4418046558061",
               "CBR4418046558065",
               "CBR4418046558069",
               "CBR4418046558073",
               "CBR4418046558077",
               "CBR4418046558081",
               "CBR4418046558085",
               "CBR4418046558089",
               "CBR4418046558093",
               "CBR4418046558097",
               "CBR4418046560116",
               "CBR4418046560120",
               "CBR4418046560124",
               "CBR4418046560128",
               "CBR4418046560132",
               "CBR4418046560136",
               "CBR4418046560140",
               "CBR4418046560144",
               "CBR4418046560148",
               "CBR4418046560152",
               "CBR4418046560156",
               "CBR4418046560160",
               "CBR4418046560164",
               "CBR4418046560168",
               "CBR4418046560172",
               "CBR4418046560176",
               "CBR4418046560180",
               "CBR4418046560184",
               "CBR4418046560188",
               "CBR4418046560192",
               "CBR4418046560196",
               "CBR4418046560200",
               "CBR4418046560204",
               "CBR4418046560208",
               "CBR4418046560212",
               "CBR4418046560216",
               "CBR4418046560220",
               "CBR4418046560224",
               "CBR4418046560228",
               "CBR4418046560232",
               "CBR4418046560236",
               "CBR4418046560240",
               "CBR4418046560244",
               "CBR4418046560248",
               "CBR4418046560252",
               "CBR4418046560256",
               "CBR4418046560260",
               "CBR4418046560264",
               "CBR4418046560268",
               "CBR4418046560272",
               "CBR4418046560566",
               "CBR4418046560570",
               "CBR4418046560574",
               "CBR4418046560578",
               "CBR4418046560582",
               "CBR4418046560586",
               "CBR4418046560590",
               "CBR4418046560594",
               "CBR4418046560598",
               "CBR4418046560602",
               "CBR4418046560606",
               "CBR4418046560610",
               "CBR4418046560614",
               "CBR4418046560618",
               "CBR4418046560622",
               "CBR4418046560626",
               "CBR4418046560630",
               "CBR4418046560634",
               "CBR4418046560638",
               "CBR4418046560642",
               "CBR4418046560646",
               "CBR4418046560650",
               "CBR4418046560654",
               "CBR4418046560658",
               "CBR4418046560662",
               "CBR4418046560666",
               "CBR4418046560670",
               "CBR4418046560674",
               "CBR4418046560678",
               "CBR4418046560682",
               "CBR4418046560686",
               "CBR4418046560690",
               "CBR4418046560694",
               "CBR4418046560698",
               "CBR4418046560702",
               "CBR4418046560706",
               "CBR4418046560710",
               "CBR4418046560714",
               "CBR4418046560718",
               "CBR4418046560722",
               "CBR4418046560726",
               "CBR4418046560730",
               "CBR4418046560734",
               "CBR4418046560738",
               "CBR4418046560742",
               "CBR4418046560746",
               "CBR4418046560750",
               "CBR4418046560754",
               "CBR4418046560758",
               "CBR4418046560762"};

String has[] = {"CBR4418046560132",
        "CBR4418046560136",
        "CBR4418046560140",
        "CBR4418046560144",
        "CBR4418046560148",
        "CBR4418046560152",
        "CBR4418046560156",
        "CBR4418046560160",
        "CBR4418046560164",
        "CBR4418046560168",
        "CBR4418046560172",
        "CBR4418046560176",
        "CBR4418046560180",
        "CBR4418046560184",
        "CBR4418046560188",
        "CBR4418046560192",
        "CBR4418046560196",
        "CBR4418046560200",
        "CBR4418046560204",
        "CBR4418046560208",
        "CBR4418046560212",
        "CBR4418046560216",
        "CBR4418046560220",
        "CBR4418046560224",
        "CBR4418046560228",
        "CBR4418046560232",
        "CBR4418046560236",
        "CBR4418046560240",
        "CBR4418046560244",
        "CBR4418046560248",
        "CBR4418046560252",
        "CBR4418046560256",
        "CBR4418046560260",
        "CBR4418046560264",
        "CBR4418046560268",
        "CBR4418046560272",
        "CBR4418046560574",
        "CBR4418046560578",
        "CBR4418046560582",
        "CBR4418046560586",
        "CBR4418046560590",
        "CBR4418046560594",
        "CBR4418046560598",
        "CBR4418046560602",
        "CBR4418046560606",
        "CBR4418046560610",
        "CBR4418046560614",
        "CBR4418046560618",
        "CBR4418046560622",
        "CBR4418046560626",
        "CBR4418046560630",
        "CBR4418046560634",
        "CBR4418046560638",
        "CBR4418046560642",
        "CBR4418046560646",
        "CBR4418046560650",
        "CBR4418046560654",
        "CBR4418046560658",
        "CBR4418046560662",
        "CBR4418046560666",
        "CBR4418046560670",
        "CBR4418046560674",
        "CBR4418046560678",
        "CBR4418046560682",
        "CBR4418046560686",
        "CBR4418046560690",
        "CBR4418046560694",
        "CBR4418046560698",
        "CBR4418046560706",
        "CBR4418046560710",
        "CBR4418046560714",
        "CBR4418046560718",
        "CBR4418046560722",
        "CBR4418046560726",
        "CBR4418046560730",
        "CBR4418046560734",
        "CBR4418046560738",
        "CBR4418046560742",
        "CBR4418046560746",
        "CBR4418046560750",
        "CBR4418046560754",
        "CBR4418046560758",
        "CBR4418046560702",
        "CBR4418046560116",
        "CBR4418046555127",
        "CBR4418046555131",
        "CBR4418046555135",
        "CBR4418046555139",
        "CBR4418046555143",
        "CBR4418046555147",
        "CBR4418046555151",
        "CBR4418046555155",
        "CBR4418046555159",
        "CBR4418046555163",
        "CBR4418046555167",
        "CBR4418046555171",
        "CBR4418046555175",
        "CBR4418046555179",
        "CBR4418046555183",
        "CBR4418046555187",
        "CBR4418046555191",
        "CBR4418046555195",
        "CBR4418046555199",
        "CBR4418046555203",
        "CBR4418046555207",
        "CBR4418046555211",
        "CBR4418046555215",
        "CBR4418046555219",
        "CBR4418046555223",
        "CBR4418046555227",
        "CBR4418046555231",
        "CBR4418046555235",
        "CBR4418046555239",
        "CBR4418046555243",
        "CBR4418046555247",
        "CBR4418046555251",
        "CBR4418046555255",
        "CBR4418046555259",
        "CBR4418046555263",
        "CBR4418046555267",
        "CBR4418046555271",
        "CBR4418046555275",
        "CBR4418046555279",
        "CBR4418046555283",
        "CBR4418046555287",
        "CBR4418046555291",
        "CBR4418046555295",
        "CBR4418046555299",
        "CBR4418046555303",
        "CBR4418046555307",
        "CBR4418046555311",
        "CBR4418046555315",
        "CBR4418046555319",
        "CBR4418046557913",
        "CBR4418046557917",
        "CBR4418046557921",
        "CBR4418046557925",
        "CBR4418046557929",
        "CBR4418046557933",
        "CBR4418046557937",
        "CBR4418046557941",
        "CBR4418046557945",
        "CBR4418046557949",
        "CBR4418046557953",
        "CBR4418046557957",
        "CBR4418046557961",
        "CBR4418046557965",
        "CBR4418046557969",
        "CBR4418046557973",
        "CBR4418046557977",
        "CBR4418046557981",
        "CBR4418046557985",
        "CBR4418046557989",
        "CBR4418046557993",
        "CBR4418046557997",
        "CBR4418046558001",
        "CBR4418046558005",
        "CBR4418046558009",
        "CBR4418046558013",
        "CBR4418046558017",
        "CBR4418046558021",
        "CBR4418046558025",
        "CBR4418046558029",
        "CBR4418046558033",
        "CBR4418046558037",
        "CBR4418046558041",
        "CBR4418046558045",
        "CBR4418046558049",
        "CBR4418046558053",
        "CBR4418046558057",
        "CBR4418046558061",
        "CBR4418046558065",
        "CBR4418046558069",
        "CBR4418046558073",
        "CBR4418046558077",
        "CBR4418046558081",
        "CBR4418046558085",
        "CBR4418046558089",
        "CBR4418046558093",
        "CBR4418046558097",
        "CBR4418046560120",
        "CBR4418046560124",
        "CBR4418046560128"};
        ArrayList<String> strings = Lists.newArrayList(str);
        System.out.println(strings.size());

        ArrayList<String> orders = Lists.newArrayList(has);
        System.out.println(orders.size());
        strings.removeIf(x -> orders.contains(x));
        System.out.println(strings.size());
        System.out.println(JsonUtil.toJson(strings));
    }

}
